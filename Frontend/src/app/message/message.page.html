<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/chat"></ion-back-button>
    </ion-buttons>
    <ion-title>{{name | titlecase}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [scrollY]="true" [fullscreen]="true">
  <div class="ion-content-scroll-host ion-padding">
    <section id="message-container" style="overflow-y: scroll;">
      <div class="hold" *ngFor="let item of message$ | async">
        <div [ngClass]="item.sender._id === hold.id ? 'from-me': 'from-them'">
          <p>{{item.message}}</p>
          <span style="display: flex; justify-content: end;">{{transform(item.createdAt)}}</span>
        </div>
      </div>
      <!-- <div class="hold" *ngFor="let item of message$ | async">
      <div [ngClass]="item.sender._id === hold.id ? 'talk-bubble tri-right left-top': 'talk-bubbles tri-rights left-tops'">
        <div class="talktext">
          <p>{{item.message}}</p>
        </div>
      </div>
      </div> -->
    </section>
  </div>
</ion-content>

<ion-footer collapse="fade">
  <ion-toolbar>
    <ion-item lines="none">
      <ion-buttons>
        <ion-button>
          <ion-icon style="font-size: 2rem" name="image-outline"></ion-icon>
        </ion-button>
      </ion-buttons>

      <textarea class="chat-input" placeholder="Type message" (keyup.enter)="send()" [(ngModel)]="message"></textarea>
      <ion-buttons>
        <ion-button type="submit" (keyup.enter)="send()" (click)="send()">
          <ion-icon style="font-size: 2rem" name="send-sharp"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-item>
  </ion-toolbar>
</ion-footer>